import{r as a,a as et}from"./index-DRjF_FHU.js";import{i as tt,a as ce,b as F,g as le,u as nt,c as rt,d as Te,e as ot,f as it}from"./floating-ui.react-dom-DPwH4_MG.js";import{r as st}from"./index-rX-Bn4lm.js";function ge(t){let e=t.activeElement;for(;((n=e)==null||(n=n.shadowRoot)==null?void 0:n.activeElement)!=null;){var n;e=e.shadowRoot.activeElement}return e}function H(t,e){if(!t||!e)return!1;const n=e.getRootNode==null?void 0:e.getRootNode();if(t.contains(e))return!0;if(n&&tt(n)){let r=e;for(;r;){if(t===r)return!0;r=r.parentNode||r.host}}return!1}function Ke(){const t=navigator.userAgentData;return t!=null&&t.platform?t.platform:navigator.platform}function We(){const t=navigator.userAgentData;return t&&Array.isArray(t.brands)?t.brands.map(e=>{let{brand:n,version:r}=e;return n+"/"+r}).join(" "):navigator.userAgent}function ut(t){return ct()?!1:!we()&&t.width===0&&t.height===0||we()&&t.width===1&&t.height===1&&t.pressure===0&&t.detail===0&&t.pointerType==="mouse"||t.width<1&&t.height<1&&t.pressure===0&&t.detail===0&&t.pointerType==="touch"}function $e(){return/apple/i.test(navigator.vendor)}function we(){const t=/android/i;return t.test(Ke())||t.test(We())}function at(){return Ke().toLowerCase().startsWith("mac")&&!navigator.maxTouchPoints}function ct(){return We().includes("jsdom/")}function ne(t,e){const n=["mouse","pen"];return e||n.push("",void 0),n.includes(t)}function lt(t){return"nativeEvent"in t}function ft(t){return t.matches("html,body")}function Z(t){return(t==null?void 0:t.ownerDocument)||document}function fe(t,e){if(e==null)return!1;if("composedPath"in t)return t.composedPath().includes(e);const n=t;return n.target!=null&&e.contains(n.target)}function ee(t){return"composedPath"in t?t.composedPath()[0]:t.target}const dt="input:not([type='hidden']):not([disabled]),[contenteditable]:not([contenteditable='false']),textarea:not([disabled])";function Ye(t){return ce(t)&&t.matches(dt)}/*!
* tabbable 6.2.0
* @license MIT, https://github.com/focus-trap/tabbable/blob/master/LICENSE
*/var mt=["input:not([inert])","select:not([inert])","textarea:not([inert])","a[href]:not([inert])","button:not([inert])","[tabindex]:not(slot):not([inert])","audio[controls]:not([inert])","video[controls]:not([inert])",'[contenteditable]:not([contenteditable="false"]):not([inert])',"details>summary:first-of-type:not([inert])","details:not([inert])"],pe=mt.join(","),Ue=typeof Element>"u",re=Ue?function(){}:Element.prototype.matches||Element.prototype.msMatchesSelector||Element.prototype.webkitMatchesSelector,ue=!Ue&&Element.prototype.getRootNode?function(t){var e;return t==null||(e=t.getRootNode)===null||e===void 0?void 0:e.call(t)}:function(t){return t==null?void 0:t.ownerDocument},ae=function t(e,n){var r;n===void 0&&(n=!0);var o=e==null||(r=e.getAttribute)===null||r===void 0?void 0:r.call(e,"inert"),u=o===""||o==="true",i=u||n&&e&&t(e.parentNode);return i},vt=function(e){var n,r=e==null||(n=e.getAttribute)===null||n===void 0?void 0:n.call(e,"contenteditable");return r===""||r==="true"},gt=function(e,n,r){if(ae(e))return[];var o=Array.prototype.slice.apply(e.querySelectorAll(pe));return n&&re.call(e,pe)&&o.unshift(e),o=o.filter(r),o},pt=function t(e,n,r){for(var o=[],u=Array.from(e);u.length;){var i=u.shift();if(!ae(i,!1))if(i.tagName==="SLOT"){var s=i.assignedElements(),l=s.length?s:i.children,f=t(l,!0,r);r.flatten?o.push.apply(o,f):o.push({scopeParent:i,candidates:f})}else{var p=re.call(i,pe);p&&r.filter(i)&&(n||!e.includes(i))&&o.push(i);var g=i.shadowRoot||typeof r.getShadowRoot=="function"&&r.getShadowRoot(i),E=!ae(g,!1)&&(!r.shadowRootFilter||r.shadowRootFilter(i));if(g&&E){var d=t(g===!0?i.children:g.children,!0,r);r.flatten?o.push.apply(o,d):o.push({scopeParent:i,candidates:d})}else u.unshift.apply(u,i.children)}}return o},je=function(e){return!isNaN(parseInt(e.getAttribute("tabindex"),10))},qe=function(e){if(!e)throw new Error("No node provided");return e.tabIndex<0&&(/^(AUDIO|VIDEO|DETAILS)$/.test(e.tagName)||vt(e))&&!je(e)?0:e.tabIndex},bt=function(e,n){var r=qe(e);return r<0&&n&&!je(e)?0:r},ht=function(e,n){return e.tabIndex===n.tabIndex?e.documentOrder-n.documentOrder:e.tabIndex-n.tabIndex},Ge=function(e){return e.tagName==="INPUT"},Et=function(e){return Ge(e)&&e.type==="hidden"},yt=function(e){var n=e.tagName==="DETAILS"&&Array.prototype.slice.apply(e.children).some(function(r){return r.tagName==="SUMMARY"});return n},Rt=function(e,n){for(var r=0;r<e.length;r++)if(e[r].checked&&e[r].form===n)return e[r]},Tt=function(e){if(!e.name)return!0;var n=e.form||ue(e),r=function(s){return n.querySelectorAll('input[type="radio"][name="'+s+'"]')},o;if(typeof window<"u"&&typeof window.CSS<"u"&&typeof window.CSS.escape=="function")o=r(window.CSS.escape(e.name));else try{o=r(e.name)}catch(i){return console.error("Looks like you have a radio button with a name attribute containing invalid CSS selector characters and need the CSS.escape polyfill: %s",i.message),!1}var u=Rt(o,e.form);return!u||u===e},wt=function(e){return Ge(e)&&e.type==="radio"},Ct=function(e){return wt(e)&&!Tt(e)},xt=function(e){var n,r=e&&ue(e),o=(n=r)===null||n===void 0?void 0:n.host,u=!1;if(r&&r!==e){var i,s,l;for(u=!!((i=o)!==null&&i!==void 0&&(s=i.ownerDocument)!==null&&s!==void 0&&s.contains(o)||e!=null&&(l=e.ownerDocument)!==null&&l!==void 0&&l.contains(e));!u&&o;){var f,p,g;r=ue(o),o=(f=r)===null||f===void 0?void 0:f.host,u=!!((p=o)!==null&&p!==void 0&&(g=p.ownerDocument)!==null&&g!==void 0&&g.contains(o))}}return u},Ce=function(e){var n=e.getBoundingClientRect(),r=n.width,o=n.height;return r===0&&o===0},It=function(e,n){var r=n.displayCheck,o=n.getShadowRoot;if(getComputedStyle(e).visibility==="hidden")return!0;var u=re.call(e,"details>summary:first-of-type"),i=u?e.parentElement:e;if(re.call(i,"details:not([open]) *"))return!0;if(!r||r==="full"||r==="legacy-full"){if(typeof o=="function"){for(var s=e;e;){var l=e.parentElement,f=ue(e);if(l&&!l.shadowRoot&&o(l)===!0)return Ce(e);e.assignedSlot?e=e.assignedSlot:!l&&f!==e.ownerDocument?e=f.host:e=l}e=s}if(xt(e))return!e.getClientRects().length;if(r!=="legacy-full")return!0}else if(r==="non-zero-area")return Ce(e);return!1},Pt=function(e){if(/^(INPUT|BUTTON|SELECT|TEXTAREA)$/.test(e.tagName))for(var n=e.parentElement;n;){if(n.tagName==="FIELDSET"&&n.disabled){for(var r=0;r<n.children.length;r++){var o=n.children.item(r);if(o.tagName==="LEGEND")return re.call(n,"fieldset[disabled] *")?!0:!o.contains(e)}return!0}n=n.parentElement}return!1},St=function(e,n){return!(n.disabled||ae(n)||Et(n)||It(n,e)||yt(n)||Pt(n))},xe=function(e,n){return!(Ct(n)||qe(n)<0||!St(e,n))},Mt=function(e){var n=parseInt(e.getAttribute("tabindex"),10);return!!(isNaN(n)||n>=0)},Ot=function t(e){var n=[],r=[];return e.forEach(function(o,u){var i=!!o.scopeParent,s=i?o.scopeParent:o,l=bt(s,i),f=i?t(o.candidates):s;l===0?i?n.push.apply(n,f):n.push(s):r.push({documentOrder:u,tabIndex:l,item:o,isScope:i,content:f})}),r.sort(ht).reduce(function(o,u){return u.isScope?o.push.apply(o,u.content):o.push(u.content),o},[]).concat(n)},He=function(e,n){n=n||{};var r;return n.getShadowRoot?r=pt([e],n.includeContainer,{filter:xe.bind(null,n),flatten:!1,getShadowRoot:n.getShadowRoot,shadowRootFilter:Mt}):r=gt(e,n.includeContainer,xe.bind(null,n)),Ot(r)};function tn(t){return a.useMemo(()=>t.every(e=>e==null)?null:e=>{t.forEach(n=>{typeof n=="function"?n(e):n!=null&&(n.current=e)})},t)}const Xe={...et},kt=Xe.useInsertionEffect,Dt=kt||(t=>t());function V(t){const e=a.useRef(()=>{});return Dt(()=>{e.current=t}),a.useCallback(function(){for(var n=arguments.length,r=new Array(n),o=0;o<n;o++)r[o]=arguments[o];return e.current==null?void 0:e.current(...r)},[])}var _=typeof document<"u"?a.useLayoutEffect:a.useEffect;function be(){return be=Object.assign?Object.assign.bind():function(t){for(var e=1;e<arguments.length;e++){var n=arguments[e];for(var r in n)Object.prototype.hasOwnProperty.call(n,r)&&(t[r]=n[r])}return t},be.apply(this,arguments)}let Ie=!1,Lt=0;const Pe=()=>"floating-ui-"+Math.random().toString(36).slice(2,6)+Lt++;function At(){const[t,e]=a.useState(()=>Ie?Pe():void 0);return _(()=>{t==null&&e(Pe())},[]),a.useEffect(()=>{Ie=!0},[]),t}const Ft=Xe.useId,Ee=Ft||At;function Nt(){const t=new Map;return{emit(e,n){var r;(r=t.get(e))==null||r.forEach(o=>o(n))},on(e,n){t.set(e,[...t.get(e)||[],n])},off(e,n){var r;t.set(e,((r=t.get(e))==null?void 0:r.filter(o=>o!==n))||[])}}}const Bt=a.createContext(null),_t=a.createContext(null),ye=()=>{var t;return((t=a.useContext(Bt))==null?void 0:t.id)||null},Re=()=>a.useContext(_t);function oe(t){return"data-floating-ui-"+t}function de(t){const e=a.useRef(t);return _(()=>{e.current=t}),e}const Se=oe("safe-polygon");function ie(t,e,n){return n&&!ne(n)?0:typeof t=="number"?t:t==null?void 0:t[e]}function nn(t,e){e===void 0&&(e={});const{open:n,onOpenChange:r,dataRef:o,events:u,elements:i}=t,{enabled:s=!0,delay:l=0,handleClose:f=null,mouseOnly:p=!1,restMs:g=0,move:E=!0}=e,d=Re(),m=ye(),v=de(f),w=de(l),C=de(n),I=a.useRef(),x=a.useRef(-1),S=a.useRef(),N=a.useRef(-1),K=a.useRef(!0),W=a.useRef(!1),B=a.useRef(()=>{}),j=a.useCallback(()=>{var h;const b=(h=o.current.openEvent)==null?void 0:h.type;return(b==null?void 0:b.includes("mouse"))&&b!=="mousedown"},[o]);a.useEffect(()=>{if(!s)return;function h(b){let{open:y}=b;y||(clearTimeout(x.current),clearTimeout(N.current),K.current=!0)}return u.on("openchange",h),()=>{u.off("openchange",h)}},[s,u]),a.useEffect(()=>{if(!s||!v.current||!n)return;function h(y){j()&&r(!1,y,"hover")}const b=Z(i.floating).documentElement;return b.addEventListener("mouseleave",h),()=>{b.removeEventListener("mouseleave",h)}},[i.floating,n,r,s,v,j]);const L=a.useCallback(function(h,b,y){b===void 0&&(b=!0),y===void 0&&(y="hover");const T=ie(w.current,"close",I.current);T&&!S.current?(clearTimeout(x.current),x.current=window.setTimeout(()=>r(!1,h,y),T)):b&&(clearTimeout(x.current),r(!1,h,y))},[w,r]),$=V(()=>{B.current(),S.current=void 0}),Y=V(()=>{if(W.current){const h=Z(i.floating).body;h.style.pointerEvents="",h.removeAttribute(Se),W.current=!1}});a.useEffect(()=>{if(!s)return;function h(){return o.current.openEvent?["click","mousedown"].includes(o.current.openEvent.type):!1}function b(R){if(clearTimeout(x.current),K.current=!1,p&&!ne(I.current)||g>0&&!ie(w.current,"open"))return;const O=ie(w.current,"open",I.current);O?x.current=window.setTimeout(()=>{C.current||r(!0,R,"hover")},O):r(!0,R,"hover")}function y(R){if(h())return;B.current();const O=Z(i.floating);if(clearTimeout(N.current),v.current&&o.current.floatingContext){n||clearTimeout(x.current),S.current=v.current({...o.current.floatingContext,tree:d,x:R.clientX,y:R.clientY,onClose(){Y(),$(),L(R,!0,"safe-polygon")}});const G=S.current;O.addEventListener("mousemove",G),B.current=()=>{O.removeEventListener("mousemove",G)};return}(I.current==="touch"?!H(i.floating,R.relatedTarget):!0)&&L(R)}function T(R){h()||o.current.floatingContext&&(v.current==null||v.current({...o.current.floatingContext,tree:d,x:R.clientX,y:R.clientY,onClose(){Y(),$(),L(R)}})(R))}if(F(i.domReference)){var M;const R=i.domReference;return n&&R.addEventListener("mouseleave",T),(M=i.floating)==null||M.addEventListener("mouseleave",T),E&&R.addEventListener("mousemove",b,{once:!0}),R.addEventListener("mouseenter",b),R.addEventListener("mouseleave",y),()=>{var O;n&&R.removeEventListener("mouseleave",T),(O=i.floating)==null||O.removeEventListener("mouseleave",T),E&&R.removeEventListener("mousemove",b),R.removeEventListener("mouseenter",b),R.removeEventListener("mouseleave",y)}}},[i,s,t,p,g,E,L,$,Y,r,n,C,d,w,v,o]),_(()=>{var h;if(s&&n&&(h=v.current)!=null&&h.__options.blockPointerEvents&&j()){W.current=!0;const y=i.floating;if(F(i.domReference)&&y){var b;const T=Z(i.floating).body;T.setAttribute(Se,"");const M=i.domReference,R=d==null||(b=d.nodesRef.current.find(O=>O.id===m))==null||(b=b.context)==null?void 0:b.elements.floating;return R&&(R.style.pointerEvents=""),T.style.pointerEvents="none",M.style.pointerEvents="auto",y.style.pointerEvents="auto",()=>{T.style.pointerEvents="",M.style.pointerEvents="",y.style.pointerEvents=""}}}},[s,n,m,i,d,v,j]),_(()=>{n||(I.current=void 0,$(),Y())},[n,$,Y]),a.useEffect(()=>()=>{$(),clearTimeout(x.current),clearTimeout(N.current),Y()},[s,i.domReference,$,Y]);const P=a.useMemo(()=>{function h(b){I.current=b.pointerType}return{onPointerDown:h,onPointerEnter:h,onMouseMove(b){const{nativeEvent:y}=b;function T(){!K.current&&!C.current&&r(!0,y,"hover")}p&&!ne(I.current)||n||g===0||(clearTimeout(N.current),I.current==="touch"?T():N.current=window.setTimeout(T,g))}}},[p,r,n,C,g]),c=a.useMemo(()=>({onMouseEnter(){clearTimeout(x.current)},onMouseLeave(h){L(h.nativeEvent,!1)}}),[L]);return a.useMemo(()=>s?{reference:P,floating:c}:{},[s,P,c])}const he=()=>{},Ve=a.createContext({delay:0,initialDelay:0,timeoutMs:0,currentId:null,setCurrentId:he,setState:he,isInstantPhase:!1}),Kt=()=>a.useContext(Ve);function rn(t){const{children:e,delay:n,timeoutMs:r=0}=t,[o,u]=a.useReducer((l,f)=>({...l,...f}),{delay:n,timeoutMs:r,initialDelay:n,currentId:null,isInstantPhase:!1}),i=a.useRef(null),s=a.useCallback(l=>{u({currentId:l})},[]);return _(()=>{o.currentId?i.current===null?i.current=o.currentId:o.isInstantPhase||u({isInstantPhase:!0}):(o.isInstantPhase&&u({isInstantPhase:!1}),i.current=null)},[o.currentId,o.isInstantPhase]),a.createElement(Ve.Provider,{value:a.useMemo(()=>({...o,setState:u,setCurrentId:s}),[o,s])},e)}function on(t,e){e===void 0&&(e={});const{open:n,onOpenChange:r,floatingId:o}=t,{id:u}=e,i=u??o,s=Kt(),{currentId:l,setCurrentId:f,initialDelay:p,setState:g,timeoutMs:E}=s;return _(()=>{l&&(g({delay:{open:1,close:ie(p,"close")}}),l!==i&&r(!1))},[i,r,g,l,p]),_(()=>{function d(){r(!1),g({delay:p,currentId:null})}if(l&&!n&&l===i){if(E){const m=window.setTimeout(d,E);return()=>{clearTimeout(m)}}d()}},[n,g,l,i,r,p,E]),_(()=>{f===he||!n||f(i)},[n,f,i]),s}function se(t,e){let n=t.filter(o=>{var u;return o.parentId===e&&((u=o.context)==null?void 0:u.open)}),r=n;for(;r.length;)r=t.filter(o=>{var u;return(u=r)==null?void 0:u.some(i=>{var s;return o.parentId===i.id&&((s=o.context)==null?void 0:s.open)})}),n=n.concat(r);return n}const Ze=()=>({getShadowRoot:!0,displayCheck:typeof ResizeObserver=="function"&&ResizeObserver.toString().includes("[native code]")?"full":"none"});function Je(t,e){const n=He(t,Ze());e==="prev"&&n.reverse();const r=n.indexOf(ge(Z(t)));return n.slice(r+1)[0]}function Wt(){return Je(document.body,"next")}function $t(){return Je(document.body,"prev")}function me(t,e){const n=e||t.currentTarget,r=t.relatedTarget;return!r||!H(n,r)}function Yt(t){He(t,Ze()).forEach(n=>{n.dataset.tabindex=n.getAttribute("tabindex")||"",n.setAttribute("tabindex","-1")})}function Me(t){t.querySelectorAll("[data-tabindex]").forEach(n=>{const r=n.dataset.tabindex;delete n.dataset.tabindex,r?n.setAttribute("tabindex",r):n.removeAttribute("tabindex")})}const Qe={border:0,clip:"rect(0 0 0 0)",height:"1px",margin:"-1px",overflow:"hidden",padding:0,position:"fixed",whiteSpace:"nowrap",width:"1px",top:0,left:0};let Ut;function Oe(t){t.key==="Tab"&&(t.target,clearTimeout(Ut))}const ke=a.forwardRef(function(e,n){const[r,o]=a.useState();_(()=>($e()&&o("button"),document.addEventListener("keydown",Oe),()=>{document.removeEventListener("keydown",Oe)}),[]);const u={ref:n,tabIndex:0,role:r,"aria-hidden":r?void 0:!0,[oe("focus-guard")]:"",style:Qe};return a.createElement("span",be({},e,u))}),ze=a.createContext(null),De=oe("portal");function jt(t){t===void 0&&(t={});const{id:e,root:n}=t,r=Ee(),o=qt(),[u,i]=a.useState(null),s=a.useRef(null);return _(()=>()=>{u==null||u.remove(),queueMicrotask(()=>{s.current=null})},[u]),_(()=>{if(!r||s.current)return;const l=e?document.getElementById(e):null;if(!l)return;const f=document.createElement("div");f.id=r,f.setAttribute(De,""),l.appendChild(f),s.current=f,i(f)},[e,r]),_(()=>{if(!r||s.current)return;let l=n||(o==null?void 0:o.portalNode);l&&!F(l)&&(l=l.current),l=l||document.body;let f=null;e&&(f=document.createElement("div"),f.id=e,l.appendChild(f));const p=document.createElement("div");p.id=r,p.setAttribute(De,""),l=f||l,l.appendChild(p),s.current=p,i(p)},[e,n,r,o]),u}function sn(t){const{children:e,id:n,root:r=null,preserveTabOrder:o=!0}=t,u=jt({id:n,root:r}),[i,s]=a.useState(null),l=a.useRef(null),f=a.useRef(null),p=a.useRef(null),g=a.useRef(null),E=i==null?void 0:i.modal,d=i==null?void 0:i.open,m=!!i&&!i.modal&&i.open&&o&&!!(r||u);return a.useEffect(()=>{if(!u||!o||E)return;function v(w){u&&me(w)&&(w.type==="focusin"?Me:Yt)(u)}return u.addEventListener("focusin",v,!0),u.addEventListener("focusout",v,!0),()=>{u.removeEventListener("focusin",v,!0),u.removeEventListener("focusout",v,!0)}},[u,o,E]),a.useEffect(()=>{u&&(d||Me(u))},[d,u]),a.createElement(ze.Provider,{value:a.useMemo(()=>({preserveTabOrder:o,beforeOutsideRef:l,afterOutsideRef:f,beforeInsideRef:p,afterInsideRef:g,portalNode:u,setFocusManagerState:s}),[o,u])},m&&u&&a.createElement(ke,{"data-type":"outside",ref:l,onFocus:v=>{if(me(v,u)){var w;(w=p.current)==null||w.focus()}else{const C=$t()||(i==null?void 0:i.refs.domReference.current);C==null||C.focus()}}}),m&&u&&a.createElement("span",{"aria-owns":u.id,style:Qe}),u&&st.createPortal(e,u),m&&u&&a.createElement(ke,{"data-type":"outside",ref:f,onFocus:v=>{if(me(v,u)){var w;(w=g.current)==null||w.focus()}else{const C=Wt()||(i==null?void 0:i.refs.domReference.current);C==null||C.focus(),i!=null&&i.closeOnFocusOut&&(i==null||i.onOpenChange(!1,v.nativeEvent,"focus-out"))}}}))}const qt=()=>a.useContext(ze),Gt="data-floating-ui-focusable";function Le(t){return ce(t.target)&&t.target.tagName==="BUTTON"}function Ae(t){return Ye(t)}function un(t,e){e===void 0&&(e={});const{open:n,onOpenChange:r,dataRef:o,elements:{domReference:u}}=t,{enabled:i=!0,event:s="click",toggle:l=!0,ignoreMouse:f=!1,keyboardHandlers:p=!0}=e,g=a.useRef(),E=a.useRef(!1),d=a.useMemo(()=>({onPointerDown(m){g.current=m.pointerType},onMouseDown(m){const v=g.current;m.button===0&&s!=="click"&&(ne(v,!0)&&f||(n&&l&&(!o.current.openEvent||o.current.openEvent.type==="mousedown")?r(!1,m.nativeEvent,"click"):(m.preventDefault(),r(!0,m.nativeEvent,"click"))))},onClick(m){const v=g.current;if(s==="mousedown"&&g.current){g.current=void 0;return}ne(v,!0)&&f||(n&&l&&(!o.current.openEvent||o.current.openEvent.type==="click")?r(!1,m.nativeEvent,"click"):r(!0,m.nativeEvent,"click"))},onKeyDown(m){g.current=void 0,!(m.defaultPrevented||!p||Le(m))&&(m.key===" "&&!Ae(u)&&(m.preventDefault(),E.current=!0),m.key==="Enter"&&r(!(n&&l),m.nativeEvent,"click"))},onKeyUp(m){m.defaultPrevented||!p||Le(m)||Ae(u)||m.key===" "&&E.current&&(E.current=!1,r(!(n&&l),m.nativeEvent,"click"))}}),[o,u,s,f,p,r,n,l]);return a.useMemo(()=>i?{reference:d}:{},[i,d])}const Ht={pointerdown:"onPointerDown",mousedown:"onMouseDown",click:"onClick"},Xt={pointerdown:"onPointerDownCapture",mousedown:"onMouseDownCapture",click:"onClickCapture"},Fe=t=>{var e,n;return{escapeKey:typeof t=="boolean"?t:(e=t==null?void 0:t.escapeKey)!=null?e:!1,outsidePress:typeof t=="boolean"?t:(n=t==null?void 0:t.outsidePress)!=null?n:!0}};function an(t,e){e===void 0&&(e={});const{open:n,onOpenChange:r,elements:o,dataRef:u}=t,{enabled:i=!0,escapeKey:s=!0,outsidePress:l=!0,outsidePressEvent:f="pointerdown",referencePress:p=!1,referencePressEvent:g="pointerdown",ancestorScroll:E=!1,bubbles:d,capture:m}=e,v=Re(),w=V(typeof l=="function"?l:()=>!1),C=typeof l=="function"?w:l,I=a.useRef(!1),x=a.useRef(!1),{escapeKey:S,outsidePress:N}=Fe(d),{escapeKey:K,outsidePress:W}=Fe(m),B=V(c=>{var h;if(!n||!i||!s||c.key!=="Escape")return;const b=(h=u.current.floatingContext)==null?void 0:h.nodeId,y=v?se(v.nodesRef.current,b):[];if(!S&&(c.stopPropagation(),y.length>0)){let T=!0;if(y.forEach(M=>{var R;if((R=M.context)!=null&&R.open&&!M.context.dataRef.current.__escapeKeyBubbles){T=!1;return}}),!T)return}r(!1,lt(c)?c.nativeEvent:c,"escape-key")}),j=V(c=>{var h;const b=()=>{var y;B(c),(y=ee(c))==null||y.removeEventListener("keydown",b)};(h=ee(c))==null||h.addEventListener("keydown",b)}),L=V(c=>{var h;const b=I.current;I.current=!1;const y=x.current;if(x.current=!1,f==="click"&&y||b||typeof C=="function"&&!C(c))return;const T=ee(c),M="["+oe("inert")+"]",R=Z(o.floating).querySelectorAll(M);let O=F(T)?T:null;for(;O&&!Te(O);){const D=ot(O);if(Te(D)||!F(D))break;O=D}if(R.length&&F(T)&&!ft(T)&&!H(T,o.floating)&&Array.from(R).every(D=>!H(O,D)))return;if(ce(T)&&P){const D=T.clientWidth>0&&T.scrollWidth>T.clientWidth,q=T.clientHeight>0&&T.scrollHeight>T.clientHeight;let U=q&&c.offsetX>T.clientWidth;if(q&&it(T).direction==="rtl"&&(U=c.offsetX<=T.offsetWidth-T.clientWidth),U||D&&c.offsetY>T.clientHeight)return}const X=(h=u.current.floatingContext)==null?void 0:h.nodeId,G=v&&se(v.nodesRef.current,X).some(D=>{var q;return fe(c,(q=D.context)==null?void 0:q.elements.floating)});if(fe(c,o.floating)||fe(c,o.domReference)||G)return;const J=v?se(v.nodesRef.current,X):[];if(J.length>0){let D=!0;if(J.forEach(q=>{var U;if((U=q.context)!=null&&U.open&&!q.context.dataRef.current.__outsidePressBubbles){D=!1;return}}),!D)return}r(!1,c,"outside-press")}),$=V(c=>{var h;const b=()=>{var y;L(c),(y=ee(c))==null||y.removeEventListener(f,b)};(h=ee(c))==null||h.addEventListener(f,b)});a.useEffect(()=>{if(!n||!i)return;u.current.__escapeKeyBubbles=S,u.current.__outsidePressBubbles=N;function c(y){r(!1,y,"ancestor-scroll")}const h=Z(o.floating);s&&h.addEventListener("keydown",K?j:B,K),C&&h.addEventListener(f,W?$:L,W);let b=[];return E&&(F(o.domReference)&&(b=le(o.domReference)),F(o.floating)&&(b=b.concat(le(o.floating))),!F(o.reference)&&o.reference&&o.reference.contextElement&&(b=b.concat(le(o.reference.contextElement)))),b=b.filter(y=>{var T;return y!==((T=h.defaultView)==null?void 0:T.visualViewport)}),b.forEach(y=>{y.addEventListener("scroll",c,{passive:!0})}),()=>{s&&h.removeEventListener("keydown",K?j:B,K),C&&h.removeEventListener(f,W?$:L,W),b.forEach(y=>{y.removeEventListener("scroll",c)})}},[u,o,s,C,f,n,r,E,i,S,N,B,K,j,L,W,$]),a.useEffect(()=>{I.current=!1},[C,f]);const Y=a.useMemo(()=>({onKeyDown:B,[Ht[g]]:c=>{p&&r(!1,c.nativeEvent,"reference-press")}}),[B,r,p,g]),P=a.useMemo(()=>({onKeyDown:B,onMouseDown(){x.current=!0},onMouseUp(){x.current=!0},[Xt[f]]:()=>{I.current=!0}}),[B,f]);return a.useMemo(()=>i?{reference:Y,floating:P}:{},[i,Y,P])}function Vt(t){const{open:e=!1,onOpenChange:n,elements:r}=t,o=Ee(),u=a.useRef({}),[i]=a.useState(()=>Nt()),s=ye()!=null,[l,f]=a.useState(r.reference),p=V((d,m,v)=>{u.current.openEvent=d?m:void 0,i.emit("openchange",{open:d,event:m,reason:v,nested:s}),n==null||n(d,m,v)}),g=a.useMemo(()=>({setPositionReference:f}),[]),E=a.useMemo(()=>({reference:l||r.reference||null,floating:r.floating||null,domReference:r.reference}),[l,r.reference,r.floating]);return a.useMemo(()=>({dataRef:u,open:e,onOpenChange:p,elements:E,events:i,floatingId:o,refs:g}),[e,p,E,i,o,g])}function cn(t){t===void 0&&(t={});const{nodeId:e}=t,n=Vt({...t,elements:{reference:null,floating:null,...t.elements}}),r=t.rootContext||n,o=r.elements,[u,i]=a.useState(null),[s,l]=a.useState(null),p=(o==null?void 0:o.reference)||u,g=a.useRef(null),E=Re();_(()=>{p&&(g.current=p)},[p]);const d=nt({...t,elements:{...o,...s&&{reference:s}}}),m=a.useCallback(x=>{const S=F(x)?{getBoundingClientRect:()=>x.getBoundingClientRect(),contextElement:x}:x;l(S),d.refs.setReference(S)},[d.refs]),v=a.useCallback(x=>{(F(x)||x===null)&&(g.current=x,i(x)),(F(d.refs.reference.current)||d.refs.reference.current===null||x!==null&&!F(x))&&d.refs.setReference(x)},[d.refs]),w=a.useMemo(()=>({...d.refs,setReference:v,setPositionReference:m,domReference:g}),[d.refs,v,m]),C=a.useMemo(()=>({...d.elements,domReference:p}),[d.elements,p]),I=a.useMemo(()=>({...d,...r,refs:w,elements:C,nodeId:e}),[d,w,C,e,r]);return _(()=>{r.dataRef.current.floatingContext=I;const x=E==null?void 0:E.nodesRef.current.find(S=>S.id===e);x&&(x.context=I)}),a.useMemo(()=>({...d,context:I,refs:w,elements:C}),[d,w,C,I])}function ln(t,e){e===void 0&&(e={});const{open:n,onOpenChange:r,events:o,dataRef:u,elements:i}=t,{enabled:s=!0,visibleOnly:l=!0}=e,f=a.useRef(!1),p=a.useRef(),g=a.useRef(!0);a.useEffect(()=>{if(!s)return;const d=rt(i.domReference);function m(){!n&&ce(i.domReference)&&i.domReference===ge(Z(i.domReference))&&(f.current=!0)}function v(){g.current=!0}return d.addEventListener("blur",m),d.addEventListener("keydown",v,!0),()=>{d.removeEventListener("blur",m),d.removeEventListener("keydown",v,!0)}},[i.domReference,n,s]),a.useEffect(()=>{if(!s)return;function d(m){let{reason:v}=m;(v==="reference-press"||v==="escape-key")&&(f.current=!0)}return o.on("openchange",d),()=>{o.off("openchange",d)}},[o,s]),a.useEffect(()=>()=>{clearTimeout(p.current)},[]);const E=a.useMemo(()=>({onPointerDown(d){ut(d.nativeEvent)||(g.current=!1)},onMouseLeave(){f.current=!1},onFocus(d){if(f.current)return;const m=ee(d.nativeEvent);if(l&&F(m))try{if($e()&&at())throw Error();if(!m.matches(":focus-visible"))return}catch{if(!g.current&&!Ye(m))return}r(!0,d.nativeEvent,"focus")},onBlur(d){f.current=!1;const m=d.relatedTarget,v=d.nativeEvent,w=F(m)&&m.hasAttribute(oe("focus-guard"))&&m.getAttribute("data-type")==="outside";p.current=window.setTimeout(()=>{var C;const I=ge(i.domReference?i.domReference.ownerDocument:document);!m&&I===i.domReference||H((C=u.current.floatingContext)==null?void 0:C.refs.floating.current,I)||H(i.domReference,I)||w||r(!1,v,"focus")})}}),[u,i.domReference,r,l]);return a.useMemo(()=>s?{reference:E}:{},[s,E])}const Ne="active",Be="selected";function ve(t,e,n){const r=new Map,o=n==="item";let u=t;if(o&&t){const{[Ne]:i,[Be]:s,...l}=t;u=l}return{...n==="floating"&&{tabIndex:-1,[Gt]:""},...u,...e.map(i=>{const s=i?i[n]:null;return typeof s=="function"?t?s(t):null:s}).concat(t).reduce((i,s)=>(s&&Object.entries(s).forEach(l=>{let[f,p]=l;if(!(o&&[Ne,Be].includes(f)))if(f.indexOf("on")===0){if(r.has(f)||r.set(f,[]),typeof p=="function"){var g;(g=r.get(f))==null||g.push(p),i[f]=function(){for(var E,d=arguments.length,m=new Array(d),v=0;v<d;v++)m[v]=arguments[v];return(E=r.get(f))==null?void 0:E.map(w=>w(...m)).find(w=>w!==void 0)}}}else i[f]=p}),i),{})}}function fn(t){t===void 0&&(t=[]);const e=t.map(s=>s==null?void 0:s.reference),n=t.map(s=>s==null?void 0:s.floating),r=t.map(s=>s==null?void 0:s.item),o=a.useCallback(s=>ve(s,t,"reference"),e),u=a.useCallback(s=>ve(s,t,"floating"),n),i=a.useCallback(s=>ve(s,t,"item"),r);return a.useMemo(()=>({getReferenceProps:o,getFloatingProps:u,getItemProps:i}),[o,u,i])}const Zt=new Map([["select","listbox"],["combobox","listbox"],["label",!1]]);function dn(t,e){var n;e===void 0&&(e={});const{open:r,floatingId:o}=t,{enabled:u=!0,role:i="dialog"}=e,s=(n=Zt.get(i))!=null?n:i,l=Ee(),p=ye()!=null,g=a.useMemo(()=>s==="tooltip"||i==="label"?{["aria-"+(i==="label"?"labelledby":"describedby")]:r?o:void 0}:{"aria-expanded":r?"true":"false","aria-haspopup":s==="alertdialog"?"dialog":s,"aria-controls":r?o:void 0,...s==="listbox"&&{role:"combobox"},...s==="menu"&&{id:l},...s==="menu"&&p&&{role:"menuitem"},...i==="select"&&{"aria-autocomplete":"none"},...i==="combobox"&&{"aria-autocomplete":"list"}},[s,o,p,r,l,i]),E=a.useMemo(()=>{const m={id:o,...s&&{role:s}};return s==="tooltip"||i==="label"?m:{...m,...s==="menu"&&{"aria-labelledby":l}}},[s,o,l,i]),d=a.useCallback(m=>{let{active:v,selected:w}=m;const C={role:"option",...v&&{id:o+"-option"}};switch(i){case"select":return{...C,"aria-selected":v&&w};case"combobox":return{...C,...v&&{"aria-selected":!0}}}return{}},[o,i]);return a.useMemo(()=>u?{reference:g,floating:E,item:d}:{},[u,g,E,d])}function _e(t,e){const[n,r]=t;let o=!1;const u=e.length;for(let i=0,s=u-1;i<u;s=i++){const[l,f]=e[i]||[0,0],[p,g]=e[s]||[0,0];f>=r!=g>=r&&n<=(p-l)*(r-f)/(g-f)+l&&(o=!o)}return o}function Jt(t,e){return t[0]>=e.x&&t[0]<=e.x+e.width&&t[1]>=e.y&&t[1]<=e.y+e.height}function mn(t){t===void 0&&(t={});const{buffer:e=.5,blockPointerEvents:n=!1,requireIntent:r=!0}=t;let o,u=!1,i=null,s=null,l=performance.now();function f(g,E){const d=performance.now(),m=d-l;if(i===null||s===null||m===0)return i=g,s=E,l=d,null;const v=g-i,w=E-s,I=Math.sqrt(v*v+w*w)/m;return i=g,s=E,l=d,I}const p=g=>{let{x:E,y:d,placement:m,elements:v,onClose:w,nodeId:C,tree:I}=g;return function(S){function N(){clearTimeout(o),w()}if(clearTimeout(o),!v.domReference||!v.floating||m==null||E==null||d==null)return;const{clientX:K,clientY:W}=S,B=[K,W],j=ee(S),L=S.type==="mouseleave",$=H(v.floating,j),Y=H(v.domReference,j),P=v.domReference.getBoundingClientRect(),c=v.floating.getBoundingClientRect(),h=m.split("-")[0],b=E>c.right-c.width/2,y=d>c.bottom-c.height/2,T=Jt(B,P),M=c.width>P.width,R=c.height>P.height,O=(M?P:c).left,X=(M?P:c).right,G=(R?P:c).top,J=(R?P:c).bottom;if($&&(u=!0,!L))return;if(Y&&(u=!1),Y&&!L){u=!0;return}if(L&&F(S.relatedTarget)&&H(v.floating,S.relatedTarget)||I&&se(I.nodesRef.current,C).some(U=>{let{context:k}=U;return k==null?void 0:k.open}))return;if(h==="top"&&d>=P.bottom-1||h==="bottom"&&d<=P.top+1||h==="left"&&E>=P.right-1||h==="right"&&E<=P.left+1)return N();let D=[];switch(h){case"top":D=[[O,P.top+1],[O,c.bottom-1],[X,c.bottom-1],[X,P.top+1]];break;case"bottom":D=[[O,c.top+1],[O,P.bottom-1],[X,P.bottom-1],[X,c.top+1]];break;case"left":D=[[c.right-1,J],[c.right-1,G],[P.left+1,G],[P.left+1,J]];break;case"right":D=[[P.right-1,J],[P.right-1,G],[c.left+1,G],[c.left+1,J]];break}function q(U){let[k,A]=U;switch(h){case"top":{const Q=[M?k+e/2:b?k+e*4:k-e*4,A+e+1],z=[M?k-e/2:b?k+e*4:k-e*4,A+e+1],te=[[c.left,b||M?c.bottom-e:c.top],[c.right,b?M?c.bottom-e:c.top:c.bottom-e]];return[Q,z,...te]}case"bottom":{const Q=[M?k+e/2:b?k+e*4:k-e*4,A-e],z=[M?k-e/2:b?k+e*4:k-e*4,A-e],te=[[c.left,b||M?c.top+e:c.bottom],[c.right,b?M?c.top+e:c.bottom:c.top+e]];return[Q,z,...te]}case"left":{const Q=[k+e+1,R?A+e/2:y?A+e*4:A-e*4],z=[k+e+1,R?A-e/2:y?A+e*4:A-e*4];return[...[[y||R?c.right-e:c.left,c.top],[y?R?c.right-e:c.left:c.right-e,c.bottom]],Q,z]}case"right":{const Q=[k-e,R?A+e/2:y?A+e*4:A-e*4],z=[k-e,R?A-e/2:y?A+e*4:A-e*4],te=[[y||R?c.left+e:c.right,c.top],[y?R?c.left+e:c.right:c.left+e,c.bottom]];return[Q,z,...te]}}}if(!_e([K,W],D)){if(u&&!T)return N();if(!L&&r){const U=f(S.clientX,S.clientY);if(U!==null&&U<.1)return N()}_e([K,W],q([E,d]))?!u&&r&&(o=window.setTimeout(N,40)):N()}}};return p.__options={blockPointerEvents:n},p}export{sn as F,ln as a,nn as b,an as c,dn as d,fn as e,on as f,rn as g,un as h,tn as i,mn as s,cn as u};
