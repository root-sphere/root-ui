import{r as e}from"./index-DRjF_FHU.js";import{c as v}from"./utils-Cf3bcFYp.js";import{c as $,P as A,a as D,u as I}from"./index-bDvysU34.js";import{j as f}from"./jsx-runtime-DR9Q75dM.js";import{c as V}from"./index-CyyGtGk5.js";import"./index-rX-Bn4lm.js";import"./index-LOOTFJQl.js";var S="Avatar",[W,ea]=$(S),[q,N]=W(S),R=e.forwardRef((a,t)=>{const{__scopeAvatar:r,...o}=a,[n,s]=e.useState("idle");return f.jsx(q,{scope:r,imageLoadingStatus:n,onImageLoadingStatusChange:s,children:f.jsx(A.span,{...o,ref:t})})});R.displayName=S;var y="AvatarImage",C=e.forwardRef((a,t)=>{const{__scopeAvatar:r,src:o,onLoadingStatusChange:n=()=>{},...s}=a,l=N(y,r),c=B(o,s.referrerPolicy),i=D(h=>{n(h),l.onImageLoadingStatusChange(h)});return I(()=>{c!=="idle"&&i(c)},[c,i]),c==="loaded"?f.jsx(A.img,{...s,ref:t,src:o}):null});C.displayName=y;var L="AvatarFallback",F=e.forwardRef((a,t)=>{const{__scopeAvatar:r,delayMs:o,...n}=a,s=N(L,r),[l,c]=e.useState(o===void 0);return e.useEffect(()=>{if(o!==void 0){const i=window.setTimeout(()=>c(!0),o);return()=>window.clearTimeout(i)}},[o]),l&&s.imageLoadingStatus!=="loaded"?f.jsx(A.span,{...n,ref:t}):null});F.displayName=L;function B(a,t){const[r,o]=e.useState("idle");return I(()=>{if(!a){o("error");return}let n=!0;const s=new window.Image,l=c=>()=>{n&&o(c)};return o("loading"),s.onload=l("loaded"),s.onerror=l("error"),s.src=a,t&&(s.referrerPolicy=t),()=>{n=!1}},[a,t]),r}var j=R,M=C,P=F;const G=V({slots:{root:"relative flex h-10 w-10 shrink-0 overflow-hidden rounded-full",image:"aspect-square h-full w-full",fallback:"flex h-full w-full items-center justify-center rounded-full bg-muted"}}),{root:K,image:O,fallback:z}=G(),d=e.forwardRef(({className:a,...t},r)=>e.createElement(j,{ref:r,className:v(K({className:a})),...t}));d.displayName=j.displayName;const p=e.forwardRef(({className:a,...t},r)=>e.createElement(M,{ref:r,className:v(O({className:a})),...t}));p.displayName=M.displayName;const g=e.forwardRef(({className:a,...t},r)=>e.createElement(P,{ref:r,className:v(z({className:a})),...t}));g.displayName=P.displayName;d.__docgenInfo={description:"",methods:[]};p.__docgenInfo={description:"",methods:[]};g.__docgenInfo={description:"",methods:[]};const T="https://avatars.githubusercontent.com/u/16330024?v=4",ta={title:"Components/Avatar",component:d,parameters:{layout:"centered"},args:{children:"Avatar"}},H=a=>e.createElement(d,{...a},e.createElement(p,{src:T}),e.createElement(g,null)),m={render:a=>e.createElement(H,{...a})},u={render:a=>e.createElement(d,{...a},e.createElement(p,{src:T}),e.createElement(g,null,"Fallback"))};var E,w,_;m.parameters={...m.parameters,docs:{...(E=m.parameters)==null?void 0:E.docs,source:{originalSource:`{
  render: args => <AvatarTemplate {...args} />
}`,...(_=(w=m.parameters)==null?void 0:w.docs)==null?void 0:_.source}}};var b,x,k;u.parameters={...u.parameters,docs:{...(b=u.parameters)==null?void 0:b.docs,source:{originalSource:`{
  render: args => <Avatar {...args}>
      <AvatarImage src={SRC} />
      <AvatarFallback>Fallback</AvatarFallback>
    </Avatar>
}`,...(k=(x=u.parameters)==null?void 0:x.docs)==null?void 0:k.source}}};const ra=["Default","WithFallback"];export{m as Default,u as WithFallback,ra as __namedExportsOrder,ta as default};
