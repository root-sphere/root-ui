import{r as i}from"./index-DRjF_FHU.js";import{a as d,u as h}from"./index-bDvysU34.js";function v(e,t,{checkForDefaultPrevented:s=!0}={}){return function(r){if(e==null||e(r),s===!1||!r.defaultPrevented)return t==null?void 0:t(r)}}function C({prop:e,defaultProp:t,onChange:s=()=>{}}){const[o,r]=l({defaultProp:t,onChange:s}),u=e!==void 0,f=u?e:o,n=d(s),a=i.useCallback(c=>{if(u){const b=typeof c=="function"?c(e):c;b!==e&&n(b)}else r(c)},[u,e,r,n]);return[f,a]}function l({defaultProp:e,onChange:t}){const s=i.useState(e),[o]=s,r=i.useRef(o),u=d(t);return i.useEffect(()=>{r.current!==o&&(u(o),r.current=o)},[o,r,u]),s}function R(e){const t=i.useRef({value:e,previous:e});return i.useMemo(()=>(t.current.value!==e&&(t.current.previous=t.current.value,t.current.value=e),t.current.previous),[e])}function p(e){const[t,s]=i.useState(void 0);return h(()=>{if(e){s({width:e.offsetWidth,height:e.offsetHeight});const o=new ResizeObserver(r=>{if(!Array.isArray(r)||!r.length)return;const u=r[0];let f,n;if("borderBoxSize"in u){const a=u.borderBoxSize,c=Array.isArray(a)?a[0]:a;f=c.inlineSize,n=c.blockSize}else f=e.offsetWidth,n=e.offsetHeight;s({width:f,height:n})});return o.observe(e,{box:"border-box"}),()=>o.unobserve(e)}else s(void 0)},[e]),t}export{R as a,p as b,v as c,C as u};
